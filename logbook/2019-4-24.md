# enableing image uploads (to change profileimage)

Today and yester day I have mostly created func to enable changeing profile image, I'm using react-dropzone in the front and multer, file-type, is-svg and cloudinary in the backend. I have used react-dropzone befor but it's a bit diffrent now when they have migrated to using hooks, but mostly it's the same I have also added frontend valitation (just checks the mime-type), also I have added a preview images which is shown while the image is beeing uploaded (if the file passes as an image), I'm also diming the image while the upload is being made to giv the users some feedback about whats going on.
In the back end I'm also validating the uploded file the same way as in the front end but after it's saved to the server i'm also checking if the file content actualy matches the filetype using file-type and is-svg (file-type can't handle svg's so I have to use a nother libary for that) if it's not a match this is a sign that this file has been tamperd with and might not be a proper image file and there for I delete it and send a warning response to the frontend. I don't realy like that I have to save the file first but I have not found a way to check the actual content of the file without doing that so far (but meaby memmory storage could be an option thought since i'm not saving it on the server for long anyway). I then post the file to cloudinary and save the returned link to the user. I also looked at filtering explicit images and got it working (with pasing proper error messages to the front end and all) but hade to disable it becouse of the limited request quota for free acounts using the cloudinary plugin requierd.

I also started to look add transitions in react and instaled the react-transition-group package