# finishing up the search filters and adding func to allow following users

Today i "finished" the search filters/sorting in the api I added the possibility to send in a field filter when searching for users previusly you always searched in both email and username fields after a match this is still the default way but now you can also select which one of these fields you want to search in. I also corrected a mistake for field filters when searching the listenNotes api the query-param sent in to listenNotes should be caled only_in and not fields as I previusly hade caled it, so now that works to. The sortByDate param (not the query-param tought) has been renamed to sorting to make it more reusable if I want to add sorting to users as well (which then will have quite diffrent types of sorting).
I desided how ever to not add different sortings for when searching users right couse I can't think of anything reasonable to sort them by at this time.

I frontend land I first fixed the problem with styleLint (just neded to set a variable in my workspace) not sure wy it stoped working in the first place tought couse I don't remember chaning any config for styleLint and I know it worked previusly.. any way I also fixed some styling issus for the filters some general and som conserning smaler screen types. I also made sure that filters always will reset when search type is changed (diffrent typs have diffrent filters) and added som func to control which filters where visible for each search type and the same goes for sorting (user searches can only select sort by relevance). I also made sure that the sorting variable was passed with the search request.

I also added actions for making follow requests, created a new followsButton (can return just an icon or a button) with func to determine if the current user is following the user (that is pased from a parent component), if there's an pending request, if a atempt to following the user is being made right now by the user (the button had ben pressed) or not.

The event sent to the api always looks the same way regardles of what type of follow request is being made (follow/unfollow/request/unrequest), the api recives all event to the same route but and first looks at the target type in the case of follows Event this is always a User (the target is a User) then the EventController looks at what type the event has and in this case the type is follows. But follows is just a general type and the api uses the database to determin more specificly what type of event it is. I made this structure for the EventController prio to this project and I hade to make som modifications to make it work as I wanted, I only realy tested it with the subscription events on podcasts so there might be some more kinks to work out for other events as well as I progress.

I also spent some time trying to find a good logo for when a request has been sent to follow a user but now aswer has been given, and ended up combining to icons. I think both of them are unlicensed but I realy should go thru all the icons and create a page with linkbacks for the icons that require that sort of thing...